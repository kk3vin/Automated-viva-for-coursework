{"version":3,"sources":["../src/retrieveQuestion.js"],"names":["i","loaded","define","$","Ajax","course_name","classList","course_id","substr","lastIndexOf","request","methodname","args","question_content","questions","prop","window","addEventListener","call","done","data","alert","Object","values","text","removeAttr","fail","error","Y","log","click"],"mappings":"GAIIA,CAAAA,CAAC,CAAG,C,CACJC,MAAM,G,CAEVC,OAAM,8BAAE,CAAC,QAAD,CAAW,WAAX,CAAF,CAA2B,SAAUC,CAAV,CAAYC,CAAZ,CAAkB,IAC3CC,CAAAA,CAAW,CAAGF,CAAC,CAAC,uBAAD,CAAD,CAA2B,CAA3B,EAA8BG,SAA9B,CAAwC,CAAxC,CAD6B,CAE3CC,CAAS,CAAGF,CAAW,CAACG,MAAZ,CAAmBH,CAAW,CAACI,WAAZ,CAAwB,cAAxB,IAAnB,CAF+B,CAI3CC,CAAO,CAAG,CACVC,UAAU,CAAC,wBADD,CAEVC,IAAI,CAHK,CAAC,SAAWL,CAAZ,CACC,CAJiC,CAQ3CM,CAR2C,CAS3CC,CAT2C,CAU/CX,CAAC,CAAC,gBAAD,CAAD,CAAoBY,IAApB,CAAyB,UAAzB,KACAZ,CAAC,CAAC,uBAAD,CAAD,CAA2BY,IAA3B,CAAgC,UAAhC,KAEAZ,CAAC,CAAC,aAAD,CAAD,CAAiBY,IAAjB,CAAsB,UAAtB,KAEAC,MAAM,CAACC,gBAAP,CAAwB,MAAxB,CAAgC,UAAY,CACxCb,CAAI,CAACc,IAAL,CAAU,CAACR,CAAD,CAAV,EAAqB,CAArB,EAAwBS,IAAxB,CAA6B,SAAUC,CAAV,CAAe,CACxC,GAAGA,CAAI,CAACpB,CAAD,CAAJ,QAAH,CAAsB,CAClBqB,KAAK,CAAC,SAAD,CACR,CAFD,IAEM,CACFP,CAAS,CAACM,CAAV,CACAP,CAAgB,CAAGS,MAAM,CAACC,MAAP,CAAcT,CAAS,CAACd,CAAD,CAAvB,EAA4B,CAA5B,CAAnB,CACAG,CAAC,CAAC,sBAAD,CAAD,CAA0BqB,IAA1B,CAA+B,cAAgBX,CAA/C,EACAZ,MAAM,GAAN,CACAE,CAAC,CAAC,gBAAD,CAAD,CAAoBsB,UAApB,CAA+B,UAA/B,CACH,CACJ,CAVD,EAUGC,IAVH,CAUQ,SAAUC,CAAV,CAAiB,CACrBC,CAAC,CAACC,GAAF,CAAMF,CAAN,EACAC,CAAC,CAACC,GAAF,CAAM,QAAN,CACH,CAbD,CAcH,CAfD,EAiBA1B,CAAC,CAAC,uBAAD,CAAD,CAA2B2B,KAA3B,CAAiC,UAAY,CACzC,GAAG7B,MAAH,CAAU,CACND,CAAC,GACD,GAAGc,CAAS,CAACd,CAAD,CAAT,QAAH,CAA4B,CACxBqB,KAAK,CAAC,0DAAD,CAAL,CACAlB,CAAC,CAAC,uBAAD,CAAD,CAA2BY,IAA3B,CAAgC,UAAhC,KACAZ,CAAC,CAAC,aAAD,CAAD,CAAiBsB,UAAjB,CAA4B,UAA5B,CACH,CAJD,IAIM,CACFZ,CAAgB,CAAGS,MAAM,CAACC,MAAP,CAAcT,CAAS,CAACd,CAAD,CAAvB,EAA4B,CAA5B,CAAnB,CACAG,CAAC,CAAC,sBAAD,CAAD,CAA0BqB,IAA1B,CAA+B,cAAgBX,CAA/C,CACH,CACJ,CACJ,CAZD,CAqBH,CArDK,CAAN","sourcesContent":["/**\n * @module local_aot\n */\n\nvar i = 0;\nvar loaded = false;\n\ndefine (['jquery', 'core/ajax'], function ($,Ajax) {\n    let course_name = $('.next_question_button')[0].classList[2];\n    let course_id = course_name.substr(course_name.lastIndexOf('next_button_') + 'next_button_'.length);\n    let params = {'courseid':course_id};\n    let request = {\n        methodname:'local_aot_get_question',\n        args:params,\n    };\n    var question_content;\n    let questions;\n    $('.record_button').prop(\"disabled\", true);\n    $('.next_question_button').prop(\"disabled\", true);\n    // $('.previous_question_button').prop(\"disabled\", true);\n    $('.end_button').prop(\"disabled\", true);\n\n    window.addEventListener('load', function () {\n        Ajax.call([request])[0].done(function (data){\n            if(data[i]==undefined){\n                alert(\"no data\");\n            }else {\n                questions=data;\n                question_content = Object.values(questions[i])[1];\n                $('.question_to_display').text(\"Question : \" + question_content );\n                loaded=true;\n                $('.record_button').removeAttr('disabled');\n            }\n        }).fail(function (error) {\n            Y.log(error);\n            Y.log('failed');\n        });\n    });\n\n    $('.next_question_button').click(function () {\n        if(loaded){\n            i++;\n            if(questions[i]==undefined) {\n                alert(\"You have answered all question, please click save button\");\n                $('.next_question_button').prop(\"disabled\", true);\n                $('.end_button').removeAttr('disabled');\n            }else {\n                question_content = Object.values(questions[i])[1];\n                $('.question_to_display').text(\"Question : \" + question_content);\n            }\n        }\n    });\n\n    // $('.previous_question_button').click(function () {\n    //     if(loaded){\n    //         i--;\n    //         question_content = Object.values(questions[i])[1];\n    //         $('.question_to_display').text(\"Question : \" + question_content );\n    //     }\n    // });\n});"],"file":"retrieveQuestion.min.js"}